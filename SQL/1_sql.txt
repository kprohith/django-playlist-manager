BEGIN;
--
-- Create model Artist
--
CREATE TABLE "backend_artist" ("artist_id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "name" varchar(50) NOT NULL);
--
-- Create model Song
--
CREATE TABLE "backend_song" ("title" varchar(100) NOT NULL, "song_id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "year" date NOT NULL, "duration" bigint NOT NULL);
CREATE TABLE "backend_song_artists" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "song_id" integer NOT NULL REFERENCES "backend_song" ("song_id") DEFERRABLE INITIALLY DEFERRED, "artist_id" integer NOT NULL REFERENCES "backend_artist" ("artist_id") DEFERRABLE INITIALLY DEFERRED);
--
-- Create model PlayList
--
CREATE TABLE "backend_playlist" ("playlist_name" varchar(50) NOT NULL, "playlist_id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "duration" bigint NOT NULL, "date_created" datetime NOT NULL, "last_modified" datetime NOT NULL, "creator_id" integer NOT NULL REFERENCES "auth_user" ("id") DEFERRABLE INITIALLY DEFERRED);
CREATE TABLE "backend_playlist_playlist_songs" ("id" integer NOT NULL PRIMARY KEY AUTOINCREMENT, "playlist_id" integer NOT NULL REFERENCES "backend_playlist" ("playlist_id") DEFERRABLE INITIALLY DEFERRED, "song_id" integer NOT NULL REFERENCES "backend_song" ("song_id") DEFERRABLE INITIALLY DEFERRED);
CREATE UNIQUE INDEX "backend_song_artists_song_id_artist_id_df727f5d_uniq" ON "backend_song_artists" ("song_id", "artist_id");
CREATE INDEX "backend_song_artists_song_id_5590072a" ON "backend_song_artists" ("song_id");
CREATE INDEX "backend_song_artists_artist_id_abf3a412" ON "backend_song_artists" ("artist_id");
CREATE INDEX "backend_playlist_creator_id_8fc263b5" ON "backend_playlist" ("creator_id");
CREATE UNIQUE INDEX "backend_playlist_playlist_songs_playlist_id_song_id_df475cb2_uniq" ON "backend_playlist_playlist_songs" ("playlist_id", "song_id");
CREATE INDEX "backend_playlist_playlist_songs_playlist_id_80afbfe7" ON "backend_playlist_playlist_songs" ("playlist_id");
CREATE INDEX "backend_playlist_playlist_songs_song_id_b930420f" ON "backend_playlist_playlist_songs" ("song_id");
COMMIT;
